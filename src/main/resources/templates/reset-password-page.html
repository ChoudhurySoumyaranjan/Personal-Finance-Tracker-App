<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Confirmation</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link rel="stylesheet" href="/style.css"></link>
    <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          font-family: Arial, sans-serif;
        }

        body{
            background: linear-gradient(135deg, #e0e7ff, #f3e8ff);
        }

        .login-container {
          background: #fff;
          padding: 2rem;
          border-radius: 10px;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
          width: 100%;
          max-width: 400px;
          animation: slideUp 0.5s ease;
        }
        @keyframes slideUp {
          from {
                transform: translateY(50px); opacity: 0;
                }
          to {
                transform: translateY(0); opacity: 1;
              }
        }
        h2 {
          text-align: center;
          margin-bottom: 1.5rem;
          color: #333;
        }
        .input-group {
          margin-bottom: 1.5rem;
        }
        label {
          display: block;
          margin-bottom: 0.5rem;
          color: #555;
        }
        input {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #ddd;
          border-radius: 5px;
          font-size: 1rem;
          transition: border-color 0.3s, box-shadow 0.3s;
        }
        input:focus {
          outline: none;
          border-color: #6e8efb;
          box-shadow: 0 0 5px rgba(110, 142, 251, 0.5);
        }
        button {
          width: 100%;
          padding: 0.75rem;
          background: #6e8efb;
          border: none;
          border-radius: 5px;
          color: #fff;
          font-size: 1rem;
          cursor: pointer;
          transition: background 0.3s, transform 0.2s;
        }
        button:hover {
          background: #5a78e0;
          transform: translateY(-2px);
        }
        .signup-link {
          text-align: center;
          margin-top: 1rem;
          font-size: 0.9rem;
          color: #555;
        }
        .signup-link a {
          color: #6e8efb;
          text-decoration: none;
        }
        .signup-link a:hover {
          text-decoration: underline;
        }
        @media (max-width: 480px) {
          .login-container {
            padding: 1.5rem;
            margin: 1rem;
          }
          h2 {
            font-size: 1.5rem;
          }
        }

        .sticky-header {
                position: sticky;
                top: 0;
                z-index: 1050; /* ensure it's above all other content */
            }

    </style>
</head>
<body>

<!-- NavBar Starts-->
<header class="sticky-header">
    <div th:replace="~{fragments/header :: header}"></div>
</header>
<!-- NavBar Ends-->

<div class="login-container container-fluid">
    <div class="row">
        <div class="col-12 mx-auto">
            <h2 class="text-center">Reset Your Password</h2>
            <p class="text-center text-muted">Enter your email address to receive a password reset link.</p>

            <div class="alert alert-secondary text-center mt-2 mb-2" role="alert" th:if="${successMsg}">
                <span th:text="${successMsg}"></span>
            </div>

            <div class="alert alert-secondary text-danger" role="alert" th:if="${errorMsg}">
                <span th:text="${errorMsg}"></span>
            </div>
            <h2>Reset Password</h2>
            <form th:action="@{/resetPasswordForm}" method="post">
                <div class="form-group mb-1">
                    <label for="password">New Password</label>
                    <input type="password" name="password" id="password"
                           minlength="8" placeholder="Enter new password"/>
                </div>
                <div class="form-group mb-1">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" name="confirmPassword" id="confirmPassword"
                           minlength="8" placeholder="Confirm new password"/>
                </div>

                <input type="hidden" name="token" th:value="${token}"/>
                <button type="submit">Reset Password</button>
            </form>

            <div class="text-center mt-3">
                <a th:href="@{/signIn}" class="text-primary">Back to Login</a>
            </div>
        </div>
    </div>
</div>

<!--Footer Starts-->
<footer>
    <div th:replace="~{fragments/footer :: footer}"></div>
</footer>
<!-- Footer Ends-->


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous">
</script>

</body>
</html>